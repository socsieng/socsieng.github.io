<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Customizing The Blog With Related Posts | Soc’s Blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Customizing The Blog With Related Posts" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Adding related posts at the end of all my blog posts." />
<meta property="og:description" content="Adding related posts at the end of all my blog posts." />
<link rel="canonical" href="https://socsieng.github.io/blogging/2020/08/30/customizing-blog-related-posts.html" />
<meta property="og:url" content="https://socsieng.github.io/blogging/2020/08/30/customizing-blog-related-posts.html" />
<meta property="og:site_name" content="Soc’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-08-30T17:44:00+00:00" />
<script type="application/ld+json">
{"description":"Adding related posts at the end of all my blog posts.","url":"https://socsieng.github.io/blogging/2020/08/30/customizing-blog-related-posts.html","@type":"BlogPosting","headline":"Customizing The Blog With Related Posts","dateModified":"2020-08-30T17:44:00+00:00","datePublished":"2020-08-30T17:44:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://socsieng.github.io/blogging/2020/08/30/customizing-blog-related-posts.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=" />
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="/assets/css/ie.css" />
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg" href="/assets/favicon.svg" />
  </head>
  <body>
    <div class="wrapper">

      <section>
        <div id="title">
          <h1><a href="/">Soc's Blog</a></h1>
          <div>
            <p>Musings of an old Software Engineer.</p><ul class="social-media-list"><li>
    <a href="https://github.com/socsieng"
      ><svg class="svg-icon"><use xlink:href="/assets/social-icons.svg#github"></use></svg>
      <span class="username">socsieng</span></a
    >
  </li><li>
    <a href="https://www.twitter.com/aussoc"
      ><svg class="svg-icon"><use xlink:href="/assets/social-icons.svg#twitter"></use></svg>
      <span class="username">aussoc</span></a
    >
  </li></ul>
</div>
        </div>
        <hr>

        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Customizing The Blog With Related Posts</h1>
    <p class="post-meta"><time class="dt-published" datetime="2020-08-30T17:44:00+00:00" itemprop="datePublished">
        Aug 30, 2020
      </time>| Edited:
          <time class="dt-modified" datetime="2020-08-30T17:44:00+00:00" itemprop="dateModified">
            Sep 7, 2020
          </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>I’ve been using Jekyll and GitHub as a blogging platform for about a day now and have been very happy with the
out-of-the-box capabilities. I did however, want to apply an minor tweak to include related posts to the end of every
blog post.</p>

<p>A quick search on for “related posts” Jekyll sent me to
<a href="https://jekyllrb.com/docs/variables/#site-variables"><code class="language-plaintext highlighter-rouge">site.related_posts</code></a> site variables. I recalled that the site’s
homepage <code class="language-plaintext highlighter-rouge">_layouts/home.html</code> displayed a list of posts.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{%- if site.posts.size &gt; 0 -%}
  <span class="nt">&lt;h2</span> <span class="na">class=</span><span class="s">"post-list-heading"</span><span class="nt">&gt;</span>{{ page.list_title | default: "Posts" }}<span class="nt">&lt;/h2&gt;</span>
  <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"post-list"</span><span class="nt">&gt;</span>
    {%- for post in site.posts -%}
    <span class="nt">&lt;li&gt;</span>
      {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
      <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"post-meta"</span><span class="nt">&gt;</span>{{ post.date | date: date_format }}<span class="nt">&lt;/span&gt;</span>
      <span class="nt">&lt;h3&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"post-link"</span> <span class="na">href=</span><span class="s">"{{ post.url | relative_url }}"</span><span class="nt">&gt;</span>
          {{ post.title | escape }}
        <span class="nt">&lt;/a&gt;</span>
      <span class="nt">&lt;/h3&gt;</span>
      {%- if site.show_excerpts -%}
        {{ post.excerpt }}
      {%- endif -%}
    <span class="nt">&lt;/li&gt;</span>
    {%- endfor -%}
  <span class="nt">&lt;/ul&gt;</span>

  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"rss-subscribe"</span><span class="nt">&gt;</span>subscribe <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ "</span><span class="err">/</span><span class="na">feed.xml</span><span class="err">"</span> <span class="err">|</span> <span class="na">relative_url</span> <span class="err">}}"</span><span class="nt">&gt;</span>via RSS<span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
{%- endif -%}
</code></pre></div></div>

<p>I figured I could combine the two starting by copy/pasting the content above into a new file
<code class="language-plaintext highlighter-rouge">_includes/related-posts.html</code> and replacing references to <code class="language-plaintext highlighter-rouge">site.posts</code> with <code class="language-plaintext highlighter-rouge">site.related_posts</code> and removing bits of
content that I didn’t need for a related post section.</p>

<p>This is what I ended up with in <code class="language-plaintext highlighter-rouge">_includes/related-posts.html</code>:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{%- if site.related_posts.size &gt; 0 -%}
  <span class="nt">&lt;hr&gt;&lt;/hr&gt;</span>
  <span class="nt">&lt;h2</span> <span class="na">class=</span><span class="s">"post-list-heading"</span><span class="nt">&gt;</span>Related posts<span class="nt">&lt;/h2&gt;</span>
  <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"post-list"</span><span class="nt">&gt;</span>
    {%- for post in site.related_posts -%}
    <span class="nt">&lt;li&gt;</span>
      <span class="nt">&lt;h3&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"post-link"</span> <span class="na">href=</span><span class="s">"{{ post.url | relative_url }}"</span><span class="nt">&gt;</span>
          {{ post.title | escape }}
        <span class="nt">&lt;/a&gt;</span>
      <span class="nt">&lt;/h3&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
    {%- endfor -%}
  <span class="nt">&lt;/ul&gt;</span>
{%- endif -%}
</code></pre></div></div>

<p>Next I updated my <code class="language-plaintext highlighter-rouge">_layouts/post.html</code> file to <em>include</em> a reference to the new <code class="language-plaintext highlighter-rouge">_includes/related-posts.html</code> file:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{%- include related-posts.html -%}
</code></pre></div></div>

<p>That was it. Pretty simple.</p>

<p>I’m not completely satisfied with the implementation as according to the
<a href="https://jekyllrb.com/docs/variables/#site-variables">documentation</a></p>

<blockquote>
  <p>If the page being processed is a Post, this contains a list of up to ten related Posts. By default, these are the ten
most recent posts. For high quality but slow to compute results, run the <code class="language-plaintext highlighter-rouge">jekyll</code> command with the <code class="language-plaintext highlighter-rouge">--lsi</code>
(<a href="https://en.wikipedia.org/wiki/Latent_semantic_analysis#Latent_semantic_indexing">latent semantic indexing</a>) option.
Also note GitHub Pages does not support the <code class="language-plaintext highlighter-rouge">lsi</code> option when generating sites.</p>
</blockquote>

<p>Because I’m hosting on GitHub Pages, related posts will just return the 10 most recent posts. Which isn’t an issue for
me at the moment, because this is currently my 5th blog post. But this is something that I’d like to revisit later on.</p>

<p>EDIT: I’ve since switched over to <a href="/blogging/2020/09/07/using-github-actions-over-github-pages.html">GitHub Actions</a> for
<code class="language-plaintext highlighter-rouge">lsi</code> support.</p>

  </div><div class="tags">Tags: blogging
  </div><hr></hr>
  <h2 class="post-list-heading related-posts">Related posts</h2>
  <ul class="post-list related-posts"><li>
      <h3>
        <a class="post-link" href="/blogging/2020/09/07/using-github-actions-over-github-pages.html">
          Using GitHub Actions Over GitHub Pages
        </a>
      </h3>
    </li><li>
      <h3>
        <a class="post-link" href="/blogging/2020/08/29/blogging-for-free-wth-jekyll.html">
          Blogging for free with Jekyll
        </a>
      </h3>
    </li><li>
      <h3>
        <a class="post-link" href="/blogging/2020/08/30/jekyll-theming.html">
          Updating the Blog&#39;s Theme
        </a>
      </h3>
    </li><li>
      <h3>
        <a class="post-link" href="/tools/2020/09/03/automation-challeng-image-optimizations.html">
          Automation Challenge: Image Optimization
        </a>
      </h3>
    </li><li>
      <h3>
        <a class="post-link" href="/tools/2020/09/04/scripting-a-new-blog-post.html">
          Scripting a New Blog Post
        </a>
      </h3>
    </li><li>
      <h3>
        <a class="post-link" href="/tools/2020/09/11/automated-code-formatting-with-prettier.html">
          Automated Code Formatting With Prettier
        </a>
      </h3>
    </li><li>
      <h3>
        <a class="post-link" href="/tools/2020/09/05/maintaining-a-jekyll-blog-with-gitpod.html">
          Maintaining a Jekyll Blog with Gitpod
        </a>
      </h3>
    </li><li>
      <h3>
        <a class="post-link" href="/tools/2020/08/30/faster-typing.html">
          How Breaking My Hand Improved My Typing
        </a>
      </h3>
    </li><li>
      <h3>
        <a class="post-link" href="/tools/2020/09/10/making-prettier-prettier.html">
          Making Prettier Prettier
        </a>
      </h3>
    </li><li>
      <h3>
        <a class="post-link" href="/blogging/2020/08/30/adding-google-analytics.html">
          Adding Google Analytics
        </a>
      </h3>
    </li><li>
      <h3>
        <a class="post-link" href="/tools/2021/01/04/released-sendkeys-2-0.html">
          Released: sendkeys 2.0
        </a>
      </h3>
    </li></ul><a class="u-url" href="/blogging/2020/08/30/customizing-blog-related-posts.html" hidden></a>
</article>

      </section><hr />
<div class="footer">
	<p>&copy; socsieng 2021 | All Rights Reserved. </p>
	<ul class="page-links">
		<li><a href="/readme">Readme</a></li>
		<li><a href="/about">About Me</a></li>
	</ul>
</div></div>

    
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-176795949-1', 'auto');
        ga('send', 'pageview');
      </script>
    
  </body>
</html>
